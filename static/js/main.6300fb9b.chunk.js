(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{42:function(e,s,t){},43:function(e,s,t){},75:function(e,s,t){},77:function(e,s,t){},78:function(e,s,t){},79:function(e,s,t){},80:function(e,s,t){},81:function(e,s,t){"use strict";t.r(s);var c=t(1),n=t.n(c),a=t(34),r=t.n(a),i=(t(42),t(43),t(37)),u=t(7),l=t(35),j=t.n(l),o=(t(75),t(0)),m=function(e){var s=e.onSend,t=Object(c.useState)(""),n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(o.jsxs)("form",{className:"messageForm",onSubmit:function(e){e.preventDefault(),s(a),r("")},children:[Object(o.jsx)("label",{className:"messageLabel",children:Object(o.jsx)("input",{className:"messageInput",value:a,onChange:function(e){r(e.target.value)},placeholder:"Type your message"})}),Object(o.jsx)("button",{className:"messageSendBtn",type:"submit",children:"Send Message"})]})},b=(t(77),function(e){var s=e.onSend,t=Object(c.useState)(""),n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(o.jsxs)("div",{className:"newUser-container",children:[Object(o.jsx)("h3",{className:"greeting",children:"Welcome to our Chat !"}),Object(o.jsxs)("form",{className:"userForm",onSubmit:function(e){e.preventDefault(),s(a),r("")},children:[Object(o.jsx)("h4",{className:"userTitle",children:"Please, introduce yourself"}),Object(o.jsx)("label",{className:"userLabel",children:Object(o.jsx)("input",{className:"userInput",value:a,onChange:function(e){r(e.target.value)},placeholder:"Type your nikname"})}),Object(o.jsx)("button",{className:"userSendBtn",type:"submit",children:"Log In"})]})]})}),O=t(36),d=(t(78),function(e){var s=e.users,t=e.currentUser;return Object(o.jsx)("ul",{className:"users-list",children:Object.values(s).map((function(e,s){return Object(o.jsxs)("li",{className:"users-item ".concat(e===t&&"current"),children:[Object(o.jsx)(O.a,{className:"user-icon"}),e]},s)}))})}),h=(t(79),function(e){var s=e.messages,t=e.currentUser;return Object(o.jsx)("ul",{className:"messages-list",children:s.map((function(e,s){return Object(o.jsxs)("li",{className:"message-item",children:[Object(o.jsxs)("span",{className:"message-time",children:[e.time," "]}),Object(o.jsxs)("span",{className:"message-user",children:[e.user," : "]}),Object(o.jsx)("span",{className:"message ".concat(e.user===t?"ownMsg":"otherMsg"),children:e.text})]},s)}))})}),f=(t(80),Object({NODE_ENV:"production",PUBLIC_URL:"/mychat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CHAT_SERVER_URL||"localhost:5000"),x=j()(f),g=function(){var e=Object(c.useState)(""),s=Object(u.a)(e,2),t=s[0],n=s[1],a=Object(c.useState)([]),r=Object(u.a)(a,2),l=r[0],j=r[1],O=Object(c.useState)(!1),f=Object(u.a)(O,2),g=f[0],S=f[1],p=Object(c.useState)({}),N=Object(u.a)(p,2),v=N[0],E=N[1];Object(c.useEffect)((function(){x.on("message",(function(e){g&&j((function(s){return[].concat(Object(i.a)(s),[{user:e.user,text:e.message,time:e.time}])}))}))}),[g]),Object(c.useEffect)((function(){x.on("users",(function(e){return E(e)}))}),[v]);return Object(o.jsx)("div",{className:"wrapper",children:g?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"users-container",children:[Object(o.jsx)("h4",{className:"title",children:"Users in chat:"}),Object(o.jsx)(d,{users:v,currentUser:t})]}),Object(o.jsxs)("div",{className:"messages-container",children:[Object(o.jsx)("h4",{className:"title",children:"Chat:"}),Object(o.jsx)(h,{messages:l,currentUser:t}),Object(o.jsx)(m,{onSend:function(e){if(e.trim().length){var s=new Date,c="".concat(s.toLocaleDateString()," ").concat(s.toLocaleTimeString());x.emit("message",{user:t,message:e.trim(),time:c})}}})]})]}):Object(o.jsx)(b,{onSend:function(e){e.trim().length&&(n(e),S(!0),x.emit("change:name",e))}})})},S=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(g,{})})};r.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(S,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.6300fb9b.chunk.js.map